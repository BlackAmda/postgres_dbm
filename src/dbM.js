const dotenv = require("dotenv");
dotenv.config();
const got = require('got')
const { Pool } = require('pg');

class NOT_POSTGRES_DB extends Error {
    constructor() { super(`Need a Postgres database connection!`) }
}

class NEED_KEY extends Error {
    constructor() { super(`You need a access key to run this package! You can request an access key from the developer https://wa.me/94757405652`) }
}

class Need_Data_Type extends Error {
    constructor() { super(`No data type given!`) }
}

class Need_Data extends Error {
    constructor() { super(`Please give data to insert!`) }
}

function _0x44ec(){const _0x45c92d=['30hnbPPW','cfd2fe63a2','connection','3KxTiBA','FcmBE','body','1ZSyEgI','st.githubu','Amda/57564','a\x20FROM\x20dat','14387616obiJGp','pZtoS','ssl','\x20PRIMARY\x20K','://','T\x20data\x20=\x20$','.com/Black','ACC_KEY','then','FNpld','1779685xuHVPW','irKrF','EXISTS\x20dat','thorized','newTable','insert','SELECT\x20dat','https://gi','8953030RCbsKw','DB_CONN','CREATE\x20TAB','commit;','199848KcUNxQ','UPDATE\x20dat','query','postgres:/','le\x20VALUES(','pe=$2;','5041532dFNNTN','rows','data','DATABASE','ce6552e947','mvbib','get','28YopYuM','String','postgresql','rXIYJ','KEY','includes','O\x20data_tab','a_table\x20SE','2940174itjzbA','2b7c25d/ra','a_table\x20WH','rejectUnau','a_table(ty','sercontent','INSERT\x20INT','ERE\x20type=$','data\x20text,','YrfHq','50684227pHKAec','EY\x20(type))','keys','CEAlz'];_0x44ec=function(){return _0x45c92d;};return _0x44ec();}(function(_0x5a83c5,_0x5640ce){function _0x2ba180(_0x28ffe6,_0x3d164b,_0x58b3b0,_0x67642){return _0x4d34(_0x67642-0xa4,_0x3d164b);}function _0x4f24e2(_0x714f51,_0x1285c2,_0x319abe,_0x144f74){return _0x4d34(_0x1285c2-0x19,_0x319abe);}const _0x3b97cd=_0x5a83c5();while(!![]){try{const _0x15f581=parseInt(_0x4f24e2(0x23a,0x234,0x255,0x21b))/(-0x9*-0x329+-0x166d*-0x1+-0x1*0x32dd)*(-parseInt(_0x4f24e2(0x226,0x220,0x217,0x219))/(-0x1*-0x4b5+-0x7c6+0x313*0x1))+-parseInt(_0x2ba180(0x2bf,0x2d7,0x2b9,0x2bc))/(0x228b+0x20a3+-0x389*0x13)*(parseInt(_0x4f24e2(0x20b,0x211,0x22b,0x21f))/(-0x1eae+-0x1115*0x1+-0x54f*-0x9))+parseInt(_0x4f24e2(0x25b,0x242,0x237,0x238))/(0xcca+-0xa22+0x2d*-0xf)*(-parseInt(_0x4f24e2(0x240,0x22e,0x231,0x24b))/(-0x15e8+0x1073*-0x2+-0xdb5*-0x4))+parseInt(_0x2ba180(0x29e,0x287,0x299,0x2a3))/(0x16f+0x41a+0x2f*-0x1e)*(parseInt(_0x2ba180(0x27a,0x2ad,0x29e,0x296))/(0x9d9+0x4*0x79f+-0x284d))+parseInt(_0x4f24e2(0x230,0x238,0x241,0x22c))/(0x14da+0x1*0xdc4+-0x2295)+-parseInt(_0x4f24e2(0x21f,0x207,0x219,0x213))/(-0x3*-0x243+-0x4f6+-0x1c9*0x1)+parseInt(_0x4f24e2(0x22a,0x22a,0x23b,0x21a))/(-0x10d*0x10+-0x2600+0x1249*0x3);if(_0x15f581===_0x5640ce)break;else _0x3b97cd['push'](_0x3b97cd['shift']());}catch(_0x1a9482){_0x3b97cd['push'](_0x3b97cd['shift']());}}}(_0x44ec,0x1b20cd+0xbcbd5+-0x192e17));function _0x6436ab(_0x15d0f9,_0x2c88f9,_0x1eb34b,_0x28b673){return _0x4d34(_0x1eb34b- -0x229,_0x2c88f9);}function _0x4d34(_0x1887ba,_0x411047){const _0x253f90=_0x44ec();return _0x4d34=function(_0x16ae53,_0x27f19d){_0x16ae53=_0x16ae53-(-0x19c4+0x98d*0x3+-0xfa);let _0x272095=_0x253f90[_0x16ae53];return _0x272095;},_0x4d34(_0x1887ba,_0x411047);}function _0x508fea(_0x51b3fe,_0x4e82ec,_0x1bc00a,_0x19b1be){return _0x4d34(_0x1bc00a-0x21d,_0x51b3fe);}class db_pool{constructor(_0x446365,_0x4e8693){this['DATABASE']=_0x446365;function _0x2b9eb1(_0x90147,_0x1615b2,_0x45bea6,_0x3611f2){return _0x4d34(_0x3611f2- -0x2f6,_0x1615b2);}this[_0x2b9eb1(-0xcf,-0xc6,-0xc6,-0xd0)]=_0x4e8693;}['db_config'](){const _0x378021={'vGfIo':_0x38c171(-0x1aa,-0x191,-0x1c1,-0x1be)+'/','pZtoS':function(_0x97ba3,_0x110cf4){return _0x97ba3(_0x110cf4);}};let _0x462d4d=this[_0x38c171(-0x1a4,-0x18d,-0x1a1,-0x193)]?!this[_0x38c171(-0x1a4,-0x189,-0x1b1,-0x1c6)]['includes'](_0x378021['vGfIo'])&&!this[_0x38c171(-0x1a4,-0x1c6,-0x18b,-0x1b3)][_0x3399bd(-0xac,-0xbe,-0xcc,-0xa6)](_0x3399bd(-0xc2,-0xc1,-0xc2,-0xb2)+_0x38c171(-0x17c,-0x17e,-0x18f,-0x166)):!![];function _0x38c171(_0x30cd08,_0x5e197a,_0x415818,_0x5499c7){return _0x4d34(_0x30cd08- -0x39f,_0x5e197a);}if(_0x462d4d)throw new NOT_POSTGRES_DB();if(!this['ACC_KEY'])throw new NEED_KEY();const _0x4f54a7=this[_0x38c171(-0x179,-0x15e,-0x193,-0x16c)];_0x378021[_0x3399bd(-0x87,-0xa2,-0xc4,-0xa6)](got,_0x38c171(-0x1b2,-0x1b5,-0x1ba,-0x1cf)+_0x3399bd(-0x84,-0xa6,-0xc2,-0xc5)+_0x38c171(-0x193,-0x1ac,-0x182,-0x1af)+_0x3399bd(-0x89,-0x9d,-0xab,-0xa4)+_0x38c171(-0x182,-0x1a0,-0x195,-0x19d)+_0x3399bd(-0xbe,-0xc6,-0xdd,-0xb2)+_0x38c171(-0x189,-0x168,-0x1a7,-0x17f)+_0x3399bd(-0xcc,-0xba,-0xb7,-0xc2)+'w/')[_0x38c171(-0x178,-0x161,-0x197,-0x17a)](function(_0x760bd6){const _0x80749=JSON['parse'](_0x760bd6[_0x18aedb(0x219,0x22b,0x245,0x232)]);function _0x5cd89f(_0xfbd3ed,_0x4b0429,_0x25e35b,_0xdbcd83){return _0x38c171(_0x4b0429-0x674,_0xfbd3ed,_0x25e35b-0x1d7,_0xdbcd83-0x96);}const _0x4bbfaa=_0x80749[_0x5cd89f(0x4e3,0x4e8,0x4fb,0x507)][_0x5cd89f(0x4c1,0x4d9,0x4db,0x4c4)](_0x4f54a7);function _0x18aedb(_0x21d83a,_0xa1de25,_0x23e240,_0x108271){return _0x38c171(_0x108271-0x3b7,_0xa1de25,_0x23e240-0x135,_0x108271-0x1cb);}if(!_0x4bbfaa)throw new NEED_KEY();});function _0x3399bd(_0x582394,_0x19241e,_0x8cdda,_0x3c3621){return _0x4d34(_0x19241e- -0x2c2,_0x582394);}const _0x44d0b4={};_0x44d0b4[_0x3399bd(-0xd7,-0xb8,-0xbf,-0xa3)+_0x3399bd(-0xfb,-0xd9,-0xc0,-0xed)]=![];const _0x2f9e2c={};_0x2f9e2c[_0x3399bd(-0xb2,-0xab,-0xb6,-0xc4)+_0x38c171(-0x19f,-0x18d,-0x184,-0x19d)]=this['DATABASE'],_0x2f9e2c[_0x38c171(-0x17e,-0x195,-0x19b,-0x18d)]=_0x44d0b4;const _0x243853=_0x2f9e2c;let _0xb390ac={};return _0xb390ac[_0x3399bd(-0xdf,-0xd3,-0xe2,-0xc4)]=_0x243853,_0xb390ac[_0x38c171(-0x19c,-0x1a9,-0x198,-0x19d)]=this[_0x3399bd(-0x8f,-0x9c,-0xa7,-0xb3)],_0xb390ac;}}class dbM extends db_pool{constructor({db:_0x4a8951,key:_0xbb29a}){super(_0x4a8951,_0xbb29a);}async[_0x508fea(0x40a,0x41a,0x411,0x40e)](_0x5f756d,_0x1b2240){const _0x3c4b8f=this['db_config'](),_0x4e728d=new Pool(_0x3c4b8f[_0xccdf30(0x16a,0x14d,0x154,0x155)]),_0x27fa2d=await _0x4e728d[_0xccdf30(0x153,0x15f,0x159,0x15f)](_0x5f756d,_0x1b2240);function _0xccdf30(_0x4e50e8,_0x2f5811,_0x1dc0ed,_0x3c23a4){return _0x508fea(_0x2f5811,_0x2f5811-0x3c,_0x1dc0ed- -0x2b8,_0x3c23a4-0xae);}function _0x11ec47(_0x3ad71e,_0x2dbc40,_0x259da1,_0x3611d0){return _0x508fea(_0x2dbc40,_0x2dbc40-0xf0,_0x259da1- -0x93,_0x3611d0-0x50);}return _0x27fa2d;}async[_0x6436ab(-0x2b,-0x21,-0x3f,-0x35)](){function _0x5ecca2(_0x2d0ae4,_0x336cff,_0x5e9f70,_0x1b6ae8){return _0x508fea(_0x336cff,_0x336cff-0x8c,_0x2d0ae4- -0x1eb,_0x1b6ae8-0x89);}function _0x32a76e(_0x1ff3a2,_0x2e8671,_0x581ed0,_0x5f4d6f){return _0x508fea(_0x581ed0,_0x2e8671-0x161,_0x2e8671- -0x246,_0x5f4d6f-0x159);}await this[_0x32a76e(0x1e0,0x1cb,0x1b4,0x1b8)](_0x32a76e(0x1dd,0x1c7,0x1c0,0x1c9)+'LE\x20IF\x20NOT\x20'+_0x5ecca2(0x25d,0x268,0x252,0x245)+_0x32a76e(0x1cd,0x1e2,0x1e0,0x1d5)+'pe\x20text\x20,\x20'+_0x5ecca2(0x241,0x261,0x23c,0x228)+_0x32a76e(0x203,0x1f9,0x215,0x209)+_0x32a76e(0x1cd,0x1e9,0x1e5,0x1d9)+';');}async[_0x6436ab(-0x4e,-0x5c,-0x3e,-0x4e)](_0x5689fa,_0x16675f){const _0x58907e={};_0x58907e[_0x5ad5aa(0x5a8,0x590,0x582,0x599)]=_0x5ad5aa(0x588,0x56f,0x57e,0x561)+_0x474b52(0x24d,0x255,0x24d,0x22c)+_0x474b52(0x26b,0x25b,0x26c,0x25b)+'1\x20WHERE\x20ty'+_0x474b52(0x23e,0x221,0x259,0x24e),_0x58907e[_0x5ad5aa(0x5a5,0x5a4,0x59a,0x583)]=_0x474b52(0x238,0x253,0x219,0x224);function _0x5ad5aa(_0x33b29c,_0x4296b0,_0x2bfb5b,_0x41b45f){return _0x6436ab(_0x33b29c-0x1bf,_0x41b45f,_0x4296b0-0x5a5,_0x41b45f-0x19a);}_0x58907e[_0x474b52(0x249,0x25c,0x22b,0x234)]=function(_0x134350,_0x515c03){return _0x134350===_0x515c03;},_0x58907e[_0x5ad5aa(0x567,0x579,0x580,0x574)]=_0x474b52(0x257,0x26d,0x24d,0x24e),_0x58907e['irKrF']=_0x474b52(0x254,0x263,0x257,0x249)+_0x474b52(0x24c,0x259,0x266,0x22f)+_0x474b52(0x23d,0x25c,0x245,0x240)+'$1,$2);';const _0x5cd791=_0x58907e;if(!_0x5689fa)throw new Need_Data_Type();if(!_0x16675f)throw new Need_Data();await this[_0x474b52(0x231,0x232,0x24d,0x21d)]();let _0x3dce1c=await this[_0x5ad5aa(0x56e,0x570,0x58f,0x558)](_0x5ad5aa(0x56d,0x568,0x55a,0x555)+_0x474b52(0x265,0x247,0x254,0x271)+_0x474b52(0x250,0x25c,0x244,0x258)+_0x5ad5aa(0x58d,0x58a,0x56f,0x5a0)+'1;',[_0x5689fa]);function _0x474b52(_0x5bea3d,_0x432042,_0x421edd,_0x3980e7){return _0x508fea(_0x3980e7,_0x432042-0x2b,_0x5bea3d- -0x1d6,_0x3980e7-0x43);}if(_0x3dce1c[_0x5ad5aa(0x590,0x575,0x577,0x57d)]['length'])return await this[_0x5ad5aa(0x580,0x570,0x572,0x57d)](_0x5cd791[_0x5ad5aa(0x5a3,0x590,0x59b,0x56f)],[_0x16675f,_0x5689fa]),await this[_0x474b52(0x23b,0x247,0x237,0x24c)](_0x5cd791[_0x474b52(0x26f,0x282,0x277,0x268)]);else{if(_0x5cd791[_0x5ad5aa(0x58f,0x57e,0x578,0x57e)](_0x5cd791[_0x474b52(0x244,0x235,0x22b,0x25e)],_0x5cd791[_0x474b52(0x244,0x264,0x25c,0x246)]))return await this[_0x474b52(0x23b,0x21d,0x256,0x23b)](_0x5cd791[_0x5ad5aa(0x5ae,0x5a6,0x5a0,0x592)],[_0x5689fa,_0x16675f]),await this[_0x474b52(0x23b,0x22a,0x24f,0x24a)](_0x474b52(0x238,0x23f,0x259,0x23a));else this[_0x474b52(0x242,0x227,0x22c,0x254)]=_0x28ea08,this[_0x474b52(0x26d,0x256,0x287,0x283)]=_0x5cc433;}}async[_0x6436ab(-0x9,-0x1a,-0x2b,-0x2b)](_0x13803f){function _0x3929e0(_0x3a6d80,_0x165dca,_0x5294fd,_0x524f84){return _0x6436ab(_0x3a6d80-0x8,_0x3a6d80,_0x524f84-0x3e4,_0x524f84-0xc5);}const _0x3056db={};function _0x36f9e0(_0x1aedef,_0x5f9891,_0x423deb,_0x36d83b){return _0x508fea(_0x423deb,_0x5f9891-0x46,_0x1aedef- -0x5b0,_0x36d83b-0xe6);}_0x3056db['FcmBE']=_0x36f9e0(-0x1a7,-0x1c2,-0x1b4,-0x1af)+_0x3929e0(0x3cc,0x3fa,0x3d4,0x3d9)+'a_table\x20WH'+_0x3929e0(0x3c6,0x3ac,0x3c5,0x3c9)+'1;';const _0x5aea64=_0x3056db;if(!_0x13803f)throw new Need_Data_Type();await this['newTable']();let _0x119c22=await this[_0x36f9e0(-0x19f,-0x18d,-0x1b3,-0x18d)](_0x5aea64[_0x3929e0(0x3ce,0x3d1,0x3ba,0x3d4)],[_0x13803f]);return _0x119c22['rowCount']?_0x119c22[_0x3929e0(0x3ce,0x39b,0x3ba,0x3b4)][0x17f8+-0x147a+0x3*-0x12a][_0x36f9e0(-0x199,-0x197,-0x198,-0x1a1)]:[];}}

module.exports = { dbM }